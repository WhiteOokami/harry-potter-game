{"version":3,"sources":["assets\\code\\start.js"],"names":["cc","Class","Component","properties","background","Node","playedBefore","onLoad","sys","platform","WECHAT_GAME","wx","getStorage","key","success","res","find","getComponent","fail","console","log","localStorage","getItem","tween","node","to","scaleX","scaleY","easing","start","scheduleOnce","color","Color","BLACK","YELLOW","director","loadScene"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,UAAU,EAAEJ,EAAE,CAACK,IADP;AAERC,IAAAA,YAAY,EAAE;AAFN,GAHP;AAQLC,EAAAA,MARK,oBAQI;AACL,QAAIP,EAAE,CAACQ,GAAH,CAAOC,QAAP,IAAmBT,EAAE,CAACQ,GAAH,CAAOE,WAA9B,EAA2C;AACvCC,MAAAA,EAAE,CAACC,UAAH,CAAc;AACVC,QAAAA,GAAG,EAAE,QADK;AAEVC,QAAAA,OAFU,mBAEFC,GAFE,EAEG;AACT;AACAf,UAAAA,EAAE,CAACgB,IAAH,CAAQ,cAAR,EAAwBC,YAAxB,CAAqC,OAArC,EAA8CX,YAA9C,GAA6D,IAA7D;AACH,SALS;AAMVY,QAAAA,IANU,kBAMH;AACHC,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEH;AATS,OAAd;AAYH,KAbD,MAaO;AACH,UAAIpB,EAAE,CAACQ,GAAH,CAAOa,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,KAA2C,IAA/C,EACI,KAAKhB,YAAL,GAAoB,IAApB,CADJ,KAGIa,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACP,KAnBI,CAsBL;;;AACApB,IAAAA,EAAE,CAACuB,KAAH,CAAS,KAAKC,IAAd,EAAoBC,EAApB,CAAuB,CAAvB,EAA0B;AAAEC,MAAAA,MAAM,EAAE,CAAV;AAAaC,MAAAA,MAAM,EAAE;AAArB,KAA1B,EAAoD;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAApD,EAA2EC,KAA3E;AACA,SAAKC,YAAL,CAAkB,YAAY;AAC1B,WAAKN,IAAL,CAAUO,KAAV,GAAkB/B,EAAE,CAACgC,KAAH,CAASC,KAA3B;AACA,WAAK7B,UAAL,CAAgB2B,KAAhB,GAAwB/B,EAAE,CAACgC,KAAH,CAASE,MAAjC;AACH,KAHD,EAGG,CAHH;AAIA,SAAKJ,YAAL,CAAkB,YAAY;AAC1B,UAAI,CAAC,KAAKxB,YAAV,EAAwB;AACpB;AACAN,QAAAA,EAAE,CAACmC,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACH,OAHD,MAIK;AACDpC,QAAAA,EAAE,CAACmC,QAAH,CAAYC,SAAZ,CAAsB,MAAtB;AACH;AACJ,KARD,EAQG,CARH;AAWH;AA/CI,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        background: cc.Node,\r\n        playedBefore: false,\r\n    },\r\n\r\n    onLoad() {\r\n        if (cc.sys.platform == cc.sys.WECHAT_GAME) {\r\n            wx.getStorage({\r\n                key: \"played\",\r\n                success(res) {\r\n                    //played before\r\n                    cc.find(\"Canvas/title\").getComponent(\"start\").playedBefore = true;\r\n                },\r\n                fail() {\r\n                    console.log(\"not played before\");\r\n\r\n                }\r\n            })\r\n            \r\n        } else {\r\n            if (cc.sys.localStorage.getItem(\"username\") != null)\r\n                this.playedBefore = true;\r\n            else\r\n                console.log(\"first time playing\");\r\n        }\r\n        \r\n\r\n        //cc.tween(emoji).to(0.5, { position: cc.v2(this.node.x + Math.ceil(Math.random() * 1000) * (Math.round(Math.random()) ? 1 : -1), this.node.y + 2000) }, { easing: 'sineOutIn' }).start();\r\n        cc.tween(this.node).to(2, { scaleX: 1, scaleY: 1 }, { easing: 'sineOut' }).start();\r\n        this.scheduleOnce(function () {\r\n            this.node.color = cc.Color.BLACK;\r\n            this.background.color = cc.Color.YELLOW;\r\n        }, 3);\r\n        this.scheduleOnce(function () {\r\n            if (!this.playedBefore) {\r\n                //first time playing\r\n                cc.director.loadScene(\"story\");\r\n            }\r\n            else {\r\n                cc.director.loadScene(\"home\");\r\n            }\r\n        }, 5);\r\n\r\n        \r\n    },\r\n\r\n});\r\n"]}