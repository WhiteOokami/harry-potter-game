{"version":3,"sources":["assets\\code\\storyManager.js"],"names":["cc","Class","Component","properties","panel1","Node","panel2","panel3","panel4","panel5","shake","rabbit","text","Label","textArea","showTextSpeed","speech1","speech2","speech3","speech4","speech5","speech6","theChar","textIndex","theTextA","coolNode","thanks","showChar","string","revealText","theText","i","length","scheduleOnce","skip","director","loadScene","onLoad","console","log","opacity","tween","to","easing","start","active","scaleX","scaleY"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        panel1: cc.Node,\r\n        panel2: cc.Node,\r\n        panel3: cc.Node,\r\n        panel4: cc.Node,\r\n        panel5: cc.Node,\r\n        shake: cc.Node,\r\n        rabbit: cc.Node,\r\n        text: cc.Label,\r\n        textArea: cc.Node,\r\n        showTextSpeed:0.1,\r\n\r\n        speech1: \"Alice, welcome back to Wonderland!\",\r\n        speech2: \" However, I must tell you that this world is no longer the same as before. \",\r\n        speech3: \"Things have changed and now you aren't the only Alice. In fact, there are tons of Alices. \",\r\n        speech4: \"The Red Queen is forcing them to compete against each other in a race.If you reach the end, you will gain crowns.Lose and you might lose crowns.\",\r\n        speech5: \"If you win enough crowns, you may be able to escape Wonderland.\",\r\n        speech6: \"I wish you the best of luck.\",\r\n        theChar: 'a',\r\n        textIndex: 0,\r\n        theTextA: \"\",\r\n\r\n        coolNode: cc.Node,\r\n        thanks: cc.Node,\r\n    },\r\n\r\n    showChar() {\r\n        this.text.string += this.theChar;\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n    revealText(theText) {\r\n        this.text.string = \"\";\r\n        this.textIndex = 0;\r\n        this.theTextA = theText;\r\n        for (var i = 0; i < theText.length; i++) {\r\n            this.scheduleOnce(function () {\r\n                if (this.textIndex < this.theTextA.length) {\r\n                    this.text.string += this.theTextA[this.textIndex];\r\n                    this.textIndex += 1;\r\n                }\r\n            }, this.showTextSpeed * i);\r\n        }\r\n        \r\n    },\r\n    skip() {\r\n        cc.director.loadScene(\"home\");\r\n    },\r\n    onLoad() {\r\n        console.log(this.speech1[0]);\r\n        this.panel1.opacity = 0;\r\n        this.panel2.opacity = 0;\r\n        this.panel3.opacity = 0;\r\n        this.panel4.opacity = 0;\r\n        this.panel5.opacity = 0;\r\n        this.rabbit.opacity = 0;\r\n        this.textArea.opacity = 0;\r\n        this.coolNode.opacity = 0;\r\n        this.shake.opacity = 0;\r\n\r\n        cc.tween(this.panel1).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n\r\n        this.scheduleOnce(function () {\r\n            cc.tween(this.panel2).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n        }, 3);\r\n\r\n        this.scheduleOnce(function () {\r\n            cc.tween(this.panel3).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n        }, 6);\r\n\r\n        this.scheduleOnce(function () {\r\n            this.panel1.active = false;\r\n            this.panel2.active = false;\r\n            this.panel3.active = false;\r\n            cc.tween(this.panel4).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n        }, 14);\r\n\r\n        this.scheduleOnce(function () {\r\n            cc.tween(this.panel5).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n            cc.tween(this.shake).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n        }, 18);\r\n\r\n        this.scheduleOnce(function () {\r\n            \r\n            this.panel4.active = false;\r\n            this.panel5.active = false;\r\n            this.shake.active = false;\r\n            cc.tween(this.rabbit).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n            cc.tween(this.textArea).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n            \r\n        }, 26);\r\n\r\n\r\n\r\n        this.scheduleOnce(function () {\r\n            //speech1\r\n            this.revealText(this.speech1);\r\n            this.scheduleOnce(function () {\r\n                //speech2\r\n                this.revealText(this.speech2);\r\n                this.scheduleOnce(function () {\r\n                    //speech3\r\n                    this.revealText(this.speech3);\r\n                    this.scheduleOnce(function () {\r\n                        //speech4\r\n                        this.revealText(this.speech4);\r\n                        this.scheduleOnce(function () {\r\n                            //speech5\r\n                            this.revealText(this.speech5);\r\n                            this.scheduleOnce(function () {\r\n                                //speech6\r\n                                this.revealText(this.speech6);\r\n\r\n                                this.scheduleOnce(function () {\r\n                                    cc.tween(this.coolNode).to(2, { opacity: 255 }, { easing: 'sineOut' }).start();\r\n\r\n                                    // thankyou\r\n                                    this.scheduleOnce(function () {\r\n                                        cc.tween(this.thanks).to(2, { scaleX: 0.9, scaleY: 0.9 }, { easing: 'sineOut' }).start();\r\n\r\n                                        //switch scene\r\n                                        this.scheduleOnce(function () {\r\n                                            cc.director.loadScene(\"home\");\r\n                                        }, 3);\r\n                                    }, 2);\r\n                                }, 7);\r\n                            }, 8);\r\n                        }, 14);\r\n                    }, 8);\r\n                }, 8);\r\n            }, 6);\r\n        }, 27);\r\n\r\n       \r\n\r\n        \r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}